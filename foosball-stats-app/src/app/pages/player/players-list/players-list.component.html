<div class="heading">Players</div>
<div class="switch-with-label">
  <dx-switch [(value)]="showRelevant"></dx-switch><span>Show relevant</span>
</div>
<dx-data-grid
  [dataSource]="players"
  [remoteOperations]="true"
  [columnAutoWidth]="true"
  [showRowLines]="true"
  [showBorders]="false"
  [hoverStateEnabled]="true"
  [columnHidingEnabled]="true"
  [wordWrapEnabled]="true"
  (onRowDblClick)="openPlayerDetail($event)"
>
  <dxo-load-panel [enabled]="false"></dxo-load-panel>
  <dxo-filter-row [visible]="true"></dxo-filter-row>
  <dxo-selection mode="single"></dxo-selection>
  <dxo-paging [pageSize]="25"></dxo-paging>
  <dxo-pager
    [showPageSizeSelector]="true"
    [allowedPageSizes]="[10, 25, 50, 100]"
  ></dxo-pager>
  <dxo-sorting mode="multiple"></dxo-sorting>

  <dxi-column dataField="id" [visible]="false"></dxi-column>

  <dxi-column dataField="name" caption="Name" dataType="string"></dxi-column>

  <dxi-column
    [dataField]="showRelevant ? 'playedRelevantEvents' : 'playedEvents'"
    caption="Played events"
    dataType="number"
  ></dxi-column>
  <dxi-column
    [dataField]="showRelevant ? 'relevantFirstPlacesCount' : 'firstPlacesCount'"
    caption="First places"
    dataType="number"
  ></dxi-column>
  <dxi-column
    caption="First places %"
    dataType="number"
    [calculateDisplayValue]="displayFirstPlacePercentage"
    calculateSortValue="firstPlacePercentage"
  ></dxi-column>
  <dxi-column
    [dataField]="
      showRelevant ? 'relevantSecondPlacesCount' : 'secondPlacesCount'
    "
    caption="Second places"
    dataType="number"
  ></dxi-column>
  <dxi-column
    caption="Second places %"
    dataType="number"
    [calculateDisplayValue]="displaySecondPlacePercentage"
    calculateSortValue="secondPlacePercentage"
  ></dxi-column>
  <dxi-column
    [dataField]="showRelevant ? 'relevantThirdPlacesCount' : 'thirdPlacesCount'"
    caption="Third places"
    dataType="number"
  ></dxi-column>
  <dxi-column
    caption="Third places %"
    dataType="number"
    [calculateDisplayValue]="displayThirdPlacePercentage"
    calculateSortValue="thirdPlacePercentage"
  ></dxi-column>
  <dxi-column
    caption="TOP 3 %"
    dataType="number"
    [calculateDisplayValue]="displayTop3Percentage"
    calculateSortValue="top3Percentage"
  ></dxi-column>
  <dxi-column
    dataField="yearOfFirstEvent"
    caption="Year of first event"
    dataType="number"
  ></dxi-column>
</dx-data-grid>
